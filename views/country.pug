extends layout

block content
  h1= title
  div(class="container-fluid")
        div(class="row m-1")
            -
                var results = [
                    {
                        "country_name":"India",
                        "country_continent":"Asia",
                        "country_populationranking":"2"
                    },
                    {
                        "country_name":"China",
                        "country_continent":"Asia",
                        "country_populationranking":"1"
                    },
                    {
                        "country_name":"USA",
                        "country_continent":"North America",
                        "country_populationranking":"3"
                    }
                ]
            each i,index in results 
                - let destination = `dispatch(\"/country/update?id=${country._id}\")`
                div(class="row-sm-2 m-1" onclick=`buy(${index})`)  #{i.country_name}  
                div(class="row-sm-2 m-1" onclick=`buy(${index})`)  #{i.country_continent}
                div(class="row-sm-2 m-1" onclick=`buy(${index})`)  #{i.country_populationranking}
                    button.btn( class="btn-primary ml-1", onclick= destination) Update

        script.
            function buy(p)
            {
                alert(`You have purchased for an item ${p+1}`);
            }
            function dispatch(path){
                window.location.href=path
            }